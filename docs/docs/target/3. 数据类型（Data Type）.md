# 3. 数据类型（Data Type）

数据表的字段都需要指定名称和数据类型，Mysql的数据类型如下：

1. 数值型
2. 字符型
3. 日期时间型
4. 二进制型



## 3.1 数值型



**整数**

| 类型      | 大小(字节) | 范围（有符号）                  | 范围（无符号）     | 用途     |
| --------- | ---------- | ------------------------------- | ------------------ | -------- |
| TINYINT   | 1          | (-128，127)                     | (0，255)           | 极小整数 |
| SMALLINT  | 2          | (-32 768，32 767)               | (0，65 535)        | 小整数   |
| MEDIUMINT | 3          | (-8 388 608，8 388 607)         | (0，16 777 215)    | 中等整数 |
| INT       | 4          | (-2 147 483 648，2 147 483 647) | (0，4 294 967 295) | 整数     |
| BIGINT    | 8          | (-9 +18位 , 9 +18位)            | (0，18 +18位)      | 大整数   |

**小数**

| 类型         | 大小(字节) | 范围（有符号） | 范围（无符号） | 用途         |
| ------------ | ---------- | -------------- | -------------- | ------------ |
| FLOAT        | 4          |                |                | 单精度浮点数 |
| DOUBLE       | 8          |                |                | 双精度浮点数 |
| DECIMAL(M,D) | M+2        | 取决于M和D的值 | 取决于M和D的值 | 严格定点数   |

注：

​	存储小数类型务必使用 decimal ，禁止使用 float 和 double ！

​	在存储的时候， float 和 double 存在精度损失的问题，很可能在比较值的时候，得不到正确的结果。如果存储的数据范围超过 decimal 的范围，可以将数据拆分为整数部分和小数部分分开存储。




## 3.2 字符型

**字符**

| 类型       | 大小(字节) | 用途         |
| ---------- | ---------- | ------------ |
| CHAR(N)    | 0~255      | 定长字符串   |
| VARCHAR(N) | 0~65535    | 可变长字符串 |

**文本** 

| 类型       | 大小(字节)             | 用途       |
| ---------- | ---------------------- | ---------- |
| TINYTEXT   | 0~255（256b）          | 短文本     |
| TEXT       | 0~65535（64Kb）        | 文本       |
| MEDIUMTEXT | 0-16 777 215（16Mb）   | 中长度文本 |
| LONGTEXT   | 0-4 294 967 295（4Gb） | 超长文本   |



注:

​	N 表示字符的长度，每个字符型的大小确定，但根据字符编码不同，所存储的字符长度是不同的：

- **UTF8**：一个汉字占用3个字节
- **UTF8mb4**： 一个汉字占用4个字节
- **GBK**： 一个汉字占用2个字节

​	例如 VARCHAR(n) ，最大存储65535 个字节，如果是utf8编码，n 的最大值为 65535 / 3 = 21845 ；而 CHAR(n) 中 n 的最大值为 255 / 3 = 85  。

​	4 种 TEXT 类型：TINYTEXT、TEXT、MEDIUMTEXT和 LONGTEXT，它们区别在于可存储的最大长度不同。



## 3.3 日期时间型



| 类型      | 大小(字节) | 范围          | 格式                | 用途             |
| --------- | ---------- | ------------- | ------------------- | ---------------- |
| DATE      | 3          |               | YYYY-MM-DD          | 日期值           |
| TIME      | 3          |               | HH:MM:SS            | 时间值或持续时间 |
| DATETIME  | 8          | 1001年-9999年 | YYYY-MM-DD HH:MM:SS | 日期时间值       |
| TIMESTAMP | 4          | 1970年-2038年 |                     | 时间戳           |

注：

​	MySQL的时间类型最高精确到**秒**，无法直接精确到毫秒或微秒。如果想记录毫秒或微秒，可以使用整数类型单独存储。

​	`DATETIME` 和 `TIMESTAMP` 类型有一个很方便的特性：**更新数据时自动赋值当前时间**。可用于记录数据最后的修改时间，非常实用。DATE 和 TIME 时间类型则没有此特性。

```mysql
`last_modify_time` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '最后修改时间'
```

​	DATETIME 类型按照   YYYYMMDDHHMMSS 整数形式存储值，与时区无关。

​	TIMESTAMP 保存了从1970-01-01 （格林尼治标准时间）以来的秒数，这和UNIX 时间戳相同。TIMESTAMP 只使用4个字节保存值，因此表示的时间范围比 DATETIME 小得多，只能表示 1970年-2038年范围的时间，TIMESTAMP 存储的值与时区有关系。



## 3.4 二进制型



**位** 

| 类型 | 大小(位) | 用途                       |
| ---- | -------- | -------------------------- |
| BIT  | 0~64     | 记录布尔值或分类很少的类型 |

**二进制** 

| 类型         | 大小(字节) | 用途               |
| ------------ | ---------- | ------------------ |
| BINARY(n)    | 0~255      | 定长二进制字符串   |
| VARBINARY(n) | 0~65535    | 可变长二进制字符串 |

**BLOB** 

| 类型       | 大小(字节)             | 用途           |
| ---------- | ---------------------- | -------------- |
| TINYBLOB   | 0~255（256b）          | 短二进制       |
| BLOB       | 0~65535（64Kb）        | 二进制         |
| MEDIUMBLOB | 0-16 777 215（16Mb）   | 中长度二进制   |
| LONGBLOB   | 0-4 294 967 295（4Gb） | 超大二进制数据 |

注:

​	BINARY 和 VARBINARY 是二进制字符串，与 CHAR 和 VARCHAR 类似。

​	它们没有字符集，排序和比较基于列值字节的数值。

​	4 种 BLOB 类型：TINYBLOB、BLOB、MEDIUMBLOB 和 LONGBLOB。它们区别在于可容纳存储范围不同。



